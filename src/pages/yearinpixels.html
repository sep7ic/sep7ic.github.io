---
layout: layouts/base.njk
title: ayearinpixels
---
<style>
    #pixels-container {
        display: grid;
        grid-template-columns: repeat(365, 20px);
        gap: 1px;
    }

    .pixel {
        width: 20px;
        height: 20px;
        cursor: pointer;
    }

    #details-container {
        display: none;
        margin-top: 20px;
    }

    #details {
        border: 1px solid rgb(99, 99, 99);
        padding: 10px;
    }
    #details span {
        color: grey;
    }
    img {
        max-width: 100%;
        height: auto;
    }
</style>
<div class="content">
    <h1>a year in pixels</h1>
    <span style="display: block; margin-top: -13px;">AAAH I DUNNO WHADDA PUT HERE!!!!!!!</span>
    <p>welcome to my "a year in pixels" page!! this is essentially a fancified microblog. click on a pixel to get its entire entry.</p>
    <span>im going to make an attempt to submit an entry at the end of every single day for the entire year, to hopefully keep me motivated on my entire site.</span>
    <p>the more saturated and vibrant the pixel, the higher that day scored out of 5</p>

<div id="pixels-container"></div>
<div id="details-container">
    <div id="details"></div>
</div>

</div>
<script>
async function fetchData() {
    const response = await fetch('/ayearinpixels.json');
    const data = await response.json();
    return data;
}
function createPixels(data) {
    const container = document.getElementById('pixels-container');

    data.forEach(entry => {
        const pixel = document.createElement('div');
        pixel.className = 'pixel';
        pixel.style.backgroundColor = getPixelColor(entry.rating);

        pixel.addEventListener('click', () => showDetails(entry));

        container.appendChild(pixel);
    });
}
function getPixelColor(rating) {
    switch (rating) {
        case 1: return '#808080';
        case 2: return '#866E6E';
        case 3: return '#8f5050';
        case 4: return '#973838';
        case 5: return '#a60808';
        default: return '#808080';
    }
}
function formatDate(dateString) {
    const [day, month, year] = dateString.split('-');
    const date = new Date(`20${year}`, month - 1, day);
    const options = { day: 'numeric', month: 'long', year: 'numeric' };
    return date.toLocaleDateString('en-US', options);
}
function showDetails(entry) {
    const detailsContainer = document.getElementById('details-container');
    const detailsDiv = document.getElementById('details');

    detailsDiv.innerHTML = `
        <p><span>DATE:</span> ${formatDate(entry.date)}</p>
        <p><span>RATING:</span> ${entry.rating}/5</p>
        <p><span>EMOTION:</span> ${entry.emotion}</p>
        <p><span>ACTIVITIES:</span> ${entry.activities.join(', ')}</p>
        <p><span>LOG:</span> ${entry.log}</p>
        <p><span>IMAGE OF THE DAY:</span></p>
        <img src="${entry.img}" alt="Image">
    `;

    detailsContainer.style.display = 'block';
}

document.addEventListener('DOMContentLoaded', async () => {
    const data = await fetchData();
    createPixels(data);

    if (data.length > 0) {
        showDetails(data[data.length - 1]);
    }
});
</script>