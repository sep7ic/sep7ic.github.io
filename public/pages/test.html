<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currently Active Application</title>
    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

<div>
    <h1>Currently Active Application:</h1>
    <p id="currentlyActiveApp">Loading...</p>
</div>

<script>
    function updateCurrentlyActiveApp() {
        $.ajax({
            url: 'https://heron-settled-absolutely.ngrok-free.app/getCurrentApplication',
            type: 'GET',
            headers: {
                "ngrok-skip-browser-warning": "any"
            },
            dataType: 'json',
            success: function (data) {
                var appName = data.title || 'Unknown Application';
                $('#currentlyActiveApp').html(`${appName}`);
            },
            error: function () {
                $('#currentlyActiveApp').text('Unknown Application');
            }
        });
    }

    setInterval(updateCurrentlyActiveApp, 10000);

    updateCurrentlyActiveApp();
</script>

</body>
</html>
