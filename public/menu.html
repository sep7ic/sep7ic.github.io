<html>
    <head>
      <link rel="stylesheet" href="css/style.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
      <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timeago/1.6.7/jquery.timeago.min.js" type="text/javascript"></script>
      <base target="_blank">
      <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.4.3/firebase-database.js"></script>
    </head>
<style>
        ul {
  padding-left: 20px;
}
@keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
#artwork{
  margin-bottom: 10px;
  width: 95%;
  animation: spin 3s linear infinite;
  transition: animation 0.3s ease;
}
#artwork:hover {
  animation-play-state: paused; /* Pause the animation on hover */
}
span {
  color: brown;
}
summary{
  margin-left: -21px;
}
li marquee {
  margin: 0;
}
ul > h1 {
  margin-left: -20px;
  margin-top: 10px;
}

::-webkit-scrollbar {
  width: 0px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #000; 
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #a31d1d; 
}
</style>
    
<body>

<!--NAVBAR-->
<div class="content">
  <div class="bar">nav.zip</div>
  <ul>
    <li><a href="/landing.html" target="Display">home</a></li>
    <li><a href="/pages/about.html" target="Display">about</a></li>
    <li><a href="/pages/zines.html" target="Display">art</a></li>
    <li><a href="/pages/pixelclubs.html" target="Display">pixelclubs</a></li>
    <li><a href="/pages/blog.html" target="Display">blog</a></li>
    <li><a href="/pages/scrobble.html" target="Display">songs</a></li>
    <details>
      <summary><a href="/pages/flags/flags.html" target="Display">flags</a></summary>
      <ul>
        <li><a href="/pages/flags/FOTD.html" target="Display">FOTD</a></li>
        <li>FBD</li>
        </ul>
    </details>
    <li><a href="/code/widgets.html" target="Display">widgets</a></li>
    <li><a href="/pages/history.html" target="Display">site history</a></li>
    <li><a href="/pages/map.html" target="Display">site map</a></li>
  </ul> 
  <a href='https://webring.dinhe.net/prev/septic.lol'><<</a>
  <a href="https://webring.dinhe.net/">retronaut</a>
  <a href='https://webring.dinhe.net/next/septic.lol'>>></a>
  <div id=neorings-neorings-container>
    <a href="https://neorings.org/api/webring/1/previous?via=https%3A%2F%2Fsep7ic.github.io"><<</a>
    <a href="https://neorings.org/api/webring/1/random">⟳</a>
    <a href="https://neorings.org/webring/1/">Neorings</a>
    <a href="https://neorings.org/api/webring/1/next?via=https%3A%2F%2Fsep7ic.github.io">>></a>
    <br>
  </div>
  <div id=neorings-groering-container>
    <img src="/images/groering.png" usemap="#groering" style="width: 100%;">
      <map name="groering">
      <area target="_blank" alt="GROERING" title="GROERING" href="https://neorings.org/webring/6/" coords="25,8,120,30" shape="rect">
      <area target="_blank" alt="RANDOM" title="RANDOM" href="https://neorings.org/api/webring/6/random" coords="50,30,95,55" shape="rect">
      <area target="_blank" alt="PREV" title="PREV" href="https://neorings.org/api/webring/6/previous?via=https%3A%2F%2Fsep7ic.github.io" coords="25,30,50,55" shape="rect">
      <area target="_blank" alt="NEXT" title="NEXT" href="https://neorings.org/api/webring/6/next?via=https%3A%2F%2Fsep7ic.github.io" coords="95,55,120,30" shape="rect">
      </map>
  </div>
</div>
    
<!--STATUS-->
<div class="content">
  <div class="bar">status.js</div>
  <div id="statuscafe">
    <div id="statuscafe-username" style="display: inline-block;"></div>
    <div id="statuscafe-timeago" style="color: grey; font-size: smaller; display: inline-block;"></div>
    <div id="statuscafe-content"></div>
  </div><script src="/js/status.js" defer></script>

  <a href="https://www.imood.com/users/septic"><img src="https://moods.imood.com/display/uname-septic/fg-A52A2A/bg-000/imood.gif" style="margin-top: 5px;" alt="The current mood of septic at www.imood.com" border="0"></a>
</div>
      
<!--LAST.FM-->
<div class="content" style="position: relative;">
  <style>
    .imgclipcentre {height: 20px; width: 20px; background-color: #000; top: 111px; left: 59px; border-radius: 100%; position: absolute;} .artworkimg {clip-path: circle(50%);}
    </style>
  <div class="bar">lastfm.mp3</div>
  <section id="listen">CANT FETCH</section>
  <hr>
  <a href="" id="artworklink" target="_blank" style="display: block;"><img id="artwork" src="" class="artworkimg">
  <div class="imgclipcentre"></div>
  <marquee id="track" direction="left" style="color: white; margin-bottom: 0;"></marquee></a>
</div>

<!--WEATHER-->
<div class="content"><div class="bar">weather.js</div>
  <style>#weather-widget>div{font-size: 12px;}</style>
  <div id="weather-widget">
    <span>Weather where webmaster is:</span>
    <div id="temperature"></div>
    <div id="apparent-temperature"></div>
    <div id="humidity"></div>
    <div id="rain"></div>
    <div id="wind-speed"></div>
  </div>
<script>
  const apiUrl = 'https://api.open-meteo.com/v1/forecast?latitude=-39.0667&longitude=174.0833&current=temperature_2m,relative_humidity_2m,apparent_temperature,is_day,rain,wind_speed_10m&daily=sunrise,sunset&timezone=Pacific%2FAuckland&forecast_days=1';
    fetch(apiUrl)
      .then(response => response.json())
        .then(data => {
          const current = data.current;
          const daily = data.daily;
          document.getElementById('temperature').innerText = `${current.temperature_2m}°C`;
          document.getElementById('humidity').innerText = `Humidity: ${current.relative_humidity_2m}%`;
          document.getElementById('apparent-temperature').innerText = `Feels Like: ${current.apparent_temperature}°C`;
          document.getElementById('rain').innerText = `Rain: ${current.rain}mm`;
          document.getElementById('wind-speed').innerText = `Wind Speed: ${current.wind_speed_10m}km/h`;
          document.getElementById('sunrise').innerText = `Sunrise: ${daily.sunrise[0]}`;
          document.getElementById('sunset').innerText = `Sunset: ${daily.sunset[0]}`;
        })
    .catch(error => console.error('Error fetching data:', error));
</script>
</div>


<!--FRIENDS-->
<div class="content">
  <span>friends!!</span>
  <hr>
  <a href="https://wiichicken.neocities.org/"><img src="https://wiichicken.neocities.org/button.gif" style="image-rendering: pixelated;" alt="Visit wiichicken's website"></a>
</div>

<!--TODO-->
<div class="content">
  <div class="bar">to-do.txt</div>
  <ul>
    <li>join lavalounge pixelclub</li>
    <li><s>change NOW LISTENING album cover to cd</s></li>
    <li><s>day/night cycle with moon</s></li>
    <li>finish working on lastfm stats page</li>
    <li>draw!</li>
  </ul>
</div>

<!--EARTHQUAKE-->
<div class="content">
  <a href="https://www.geonet.org.nz/earthquake/unnoticeable" target="_blank" style="float: right; text-decoration: none; color: white;">ⓘ</a>
most recent <span>earthquake</span> in NZ
  <hr>
  <section id="eqMag">Mag:</section>
  <section id="eqLoc"></section>
  <section id="eqDep"></section>
  <abbr class="timeago" id="time" title="">time</abbr>
</div>

<!--MUSIC-->
<audio controls autoplay loop name="media" style="width: 100%;">
  <source src="http://docs.google.com/uc?export=open&id=1pAP1PJl_yBuKz7bAaZuGePfAJWF0jgxS" type="audio/mp3">
</audio>

<!--SUICIDE BOOTH-->
<img src="images/suicidebooth.gif" style="width: 100%; display: none;">

</body>

        <script>
      $(document).ready(function() {
  var equrl = "https://api.geonet.org.nz/quake?MMI=0";
  $.getJSON(equrl, function(data) {
    var mag = data.features[0].properties.magnitude;
    var loc = data.features[0].properties.locality;
    var dep = data.features[0].properties.depth;
    var time = data.features[0].properties.time;

console.log(mag)
console.log(time)

    $("#eqMag").html("Mag: " + Math.round((mag + Number.EPSILON) * 100) / 100);
    $("#eqLoc").html(loc);
    $("#eqDep").html("Depth: " + Math.round((dep + Number.EPSILON) * 100) / 100 + "km");
    $("#time").attr("title", time);
    jQuery(document).ready(function() {
  jQuery("abbr.timeago").timeago(); 
  });
  });
});


$(document).ready(function() {
  var url = "http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=sep7ic&api_key=afc213709a996ae561e307f596c9952b&format=json";
  $.getJSON(url, function(data) {
    var artist = data.recenttracks.track[0].artist["#text"];
    var song = data.recenttracks.track[0]["name"];
    var artwork = data.recenttracks.track[0].image[3]["#text"];
    var link = data.recenttracks.track[0]["url"];


    $("#artwork").attr("src", artwork);
    $('#track').html("\
      <strong>"+song+"</strong><br />\
      "+artist+"\
    ");
    $("#artworklink").attr("href", link)

    if (typeof data.recenttracks.track[0]["@attr"] != "undefined"){
            $("#listen").html('<span style="color: green;">listening</span> to:')
            console.log("true")
            $("#status").html('<span style="color: green;">online</span>')
    } else {
      $("#listen").html("last <span>listened</span> to:")
        console.log("false")
    }
  });
});




$(document).ready(function() {
var statusurl = "https://api.lanyard.rest/v1/users/720506205528916029";
$.getJSON(statusurl, function(data) {
var status = data.data.discord_status;
var activity = data.data.activities[0].name;
var web = data.data.active_on_discord_web;
var desktop = data.data.active_on_discord_desktop;
var mobile = data.data.active_on_discord_mobile;

console.log("smoething"+desktop)
console.log("activity is:"+activity)

if (activity !== undefined) {
$("#activity").html("i am currently on <span>"+activity+"</span>")
}
if (activity == "Custom Status") {
$("#activity").html("")
}

if ( status == "online"){
    $("#status").html('<span style="color: green;">online</span>')
    } else {
      console.log("offline")
    }

if (desktop == true){
  $("#status").html('<span style="color: green;">online on desktop</span>')
}
if (web == true){
  $("#status").html('<span style="color: green;">online on web</span>')
}
if (mobile == true){
  $("#status").html('<span style="color: green;">online on phone</span>')
}

});
});


    </script>

<script>

$(document).ready(function() {
            var today = new Date();
            var month = today.getMonth() + 1;
            var day = today.getDate();
            var year = today.getFullYear();

            var imagePath = 'dailydoodle/' + month + '/' + day + '.png';

            $.ajax({
                url: imagePath,
                type: 'HEAD',
                error: function() {
                    var totalDays = new Date(year, month, 0).getDate();
                    var randomDate = Math.floor(Math.random() * totalDays) + 1; 
                    var randomImage = 'dailydoodle/' + month + '/' + randomDate + '.png';
                    $('#dailyImage').attr('src', randomImage);
                    $('#imageDate').text(month + '/' + day + '/' + year + ' - Random');
                },
                success: function() {
                    $('#dailyImage').attr('src', imagePath);
                    $('#imageDate').text(month + '/' + day + '/' + year + ' - Daily Doodle');
                }
            });
        });

</script>
</html>